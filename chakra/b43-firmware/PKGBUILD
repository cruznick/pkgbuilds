# Benjamin Mtz (cruznick) <cruznick at archlinux dot us >

pkgname=b43-firmware
srcname=broadcom-wl
pkgver=4.178.10.4
pkgrel=1
pkgdesc="Firmware for Broadcom B43 wireless networking chips"
arch=("i686" "x86_64")
url="http://linuxwireless.org/en/users/Drivers/b43"
license=("GPL")
depends=("kernel26")
makedepends=("b43-fwcutter")
source=(http://mirror2.openwrt.org/sources/${srcname}-${pkgver}.tar.bz2)
changelog=$pkgname.changelog
build() {
	cd ${srcdir}/${srcname}-${pkgver}/linux/

	# Directories
	install -d ${pkgdir}/lib/firmware/

	# Install
	b43-fwcutter -w "${pkgdir}/lib/firmware/" wl_apsta.o || return 1

	# Messages
	msg "You should also add 'b43' into the 'modules' section of your '/etc/rc.conf' file."
}

sha1sums=('ad5b3170cb9c72636e84392aefcdacf306270938')
